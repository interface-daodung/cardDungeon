<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Th∆∞ Vi·ªán Th·∫ª - Card Dungeon</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="cardLibrary-page">
  <!-- Icon Xu + ƒëi·ªÉm -->
  <div class="score-bar fade-in">
    <span>ü™ô</span>
    <span id="score">0</span>
  </div>

  <!-- Icon setting -->
  <div class="settings-btn-wrapper fade-in">
    <span class="settings-btn">‚öôÔ∏è</span>
  </div>

  <div class="book-container fade-in">
    <!-- B√™n tr√°i - L∆∞·ªõi th·∫ª -->
    <div class="left-panel">
      <h2 class="left-title">üìö Th∆∞ Vi·ªán Th·∫ª</h2>
      <div class="card-grid" id="cardGrid">
        <!-- Th·∫ª s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
      </div>
    </div>

    <!-- B√™n ph·∫£i - Th√¥ng tin th·∫ª -->
    <div class="right-panel">
      <h2 class="right-title">üìñ Chi Ti·∫øt Th·∫ª</h2>
      <div class="card-info">
        <div class="card-info-placeholder" id="cardInfoPlaceholder">
          Ch·ªçn m·ªôt th·∫ª ƒë·ªÉ xem th√¥ng tin chi ti·∫øt
        </div>
        <div class="card-info-content" id="cardInfoContent">
          <div class="card-header">
            <h3 class="card-name" id="cardName">T√™n Th·∫ª</h3>
            <span class="card-type" id="cardType">Lo·∫°i</span>
          </div>
          <img class="card-image-large" id="cardImageLarge" src="" alt="Th·∫ª">
          <div class="card-description" id="cardDescription">
            M√¥ t·∫£ th·∫ª s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...
          </div>
          <div class="card-stats" id="cardStats">
            <!-- Th·ªëng k√™ th·∫ª s·∫Ω ƒë∆∞·ª£c t·∫°o ƒë·ªông -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- N√∫t quay l·∫°i -->
  <a href="index.html" class="back-btn">Quay l·∫°i</a>

  <script>
    // D·ªØ li·ªáu th·∫ª inline ƒë·ªÉ tr√°nh l·ªói CORS
    let cardData = [];

    // Bi·∫øn to√†n c·ª•c
    let selectedCardId = null;
    let currentCards = [];

    // Kh·ªüi t·∫°o trang
    document.addEventListener('DOMContentLoaded', function() {
      initializeCardLibrary();
    });

    // Kh·ªüi t·∫°o th∆∞ vi·ªán th·∫ª
    async function initializeCardLibrary() {
      await loadCardsFromJSON();
      renderCardGrid();
      setupEventListeners();
      initializeScoreAndSettings();
    }

    // Load th·∫ª t·ª´ file JSON ho·∫∑c d·ªØ li·ªáu inline
    async function loadCardsFromJSON() {
      try {
        // Th·ª≠ load t·ª´ JSON file
        const response = await fetch('./cardLibraryData.json');
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        cardData = data.cards;
        currentCards = [...cardData];
        console.log('ƒê√£ load th√†nh c√¥ng', currentCards.length, 'th·∫ª t·ª´ JSON');
      } catch (error) {
        console.error('L·ªói khi load d·ªØ li·ªáu th·∫ª t·ª´ JSON, s·ª≠ d·ª•ng d·ªØ li·ªáu inline:', error);
        // Fallback: s·ª≠ d·ª•ng d·ªØ li·ªáu inline
        cardData = getInlineCardData();
        currentCards = [...cardData];
      }
    }

    // D·ªØ li·ªáu th·∫ª inline ƒë·ªÉ tr√°nh l·ªói CORS
    function getInlineCardData() {
      return [
        {
            "id": "sword0",
            "name": "Thi√™n Kh√¥ng Ki·∫øm",
            "type": "weapon",
            "image": "resources/sword0.webp",
            "description": "Thi√™n Kh√¥ng Ki·∫øm to√°t ra l·ªùi ch√∫c ph√∫c c·ªßa th·∫ßn gi√≥. Khi s·ª≠ d·ª•ng ƒë·ªÉ ti√™u di·ªát qu√°i v·∫≠t, n√≥ s·∫Ω t·∫°o ra nh·ªØng m·∫£nh v·ª° nguy√™n t·ªë qu√Ω gi√°.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ v·ªõi ƒë·ªô b·ªÅn th·∫•p"
        },
        {
            "id": "sword1",
            "name": "Thi√™n Kh√¥ng Ki·∫øm",
            "type": "weapon",
            "image": "resources/sword1.webp",
            "description": "Thi√™n Kh√¥ng Ki·∫øm to√°t ra l·ªùi ch√∫c ph√∫c c·ªßa th·∫ßn gi√≥. Khi s·ª≠ d·ª•ng ƒë·ªÉ ti√™u di·ªát qu√°i v·∫≠t, n√≥ s·∫Ω t·∫°o ra nh·ªØng m·∫£nh v·ª° nguy√™n t·ªë qu√Ω gi√°.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ v·ªõi ƒë·ªô b·ªÅn trung b√¨nh"
        },
        {
            "id": "sword2",
            "name": "Thi√™n Kh√¥ng Ki·∫øm",
            "type": "weapon",
            "image": "resources/sword2.webp",
            "description": "Thi√™n Kh√¥ng Ki·∫øm to√°t ra l·ªùi ch√∫c ph√∫c c·ªßa th·∫ßn gi√≥. Khi s·ª≠ d·ª•ng ƒë·ªÉ ti√™u di·ªát qu√°i v·∫≠t, n√≥ s·∫Ω t·∫°o ra nh·ªØng m·∫£nh v·ª° nguy√™n t·ªë qu√Ω gi√°.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ v·ªõi ƒë·ªô b·ªÅn cao"
        },
        {
            "id": "sword3",
            "name": "Thi√™n Kh√¥ng Ki·∫øm",
            "type": "weapon",
            "image": "resources/sword3.webp",
            "description": "Thi√™n Kh√¥ng Ki·∫øm to√°t ra l·ªùi ch√∫c ph√∫c c·ªßa th·∫ßn gi√≥. Khi s·ª≠ d·ª•ng ƒë·ªÉ ti√™u di·ªát qu√°i v·∫≠t, n√≥ s·∫Ω t·∫°o ra nh·ªØng m·∫£nh v·ª° nguy√™n t·ªë qu√Ω gi√°.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ v·ªõi ƒë·ªô b·ªÅn r·∫•t cao"
        },
        {
            "id": "sword4",
            "name": "Thi√™n Kh√¥ng Ki·∫øm",
            "type": "weapon",
            "image": "resources/sword4.webp",
            "description": "Thi√™n Kh√¥ng Ki·∫øm to√°t ra l·ªùi ch√∫c ph√∫c c·ªßa th·∫ßn gi√≥. Khi s·ª≠ d·ª•ng ƒë·ªÉ ti√™u di·ªát qu√°i v·∫≠t, n√≥ s·∫Ω t·∫°o ra nh·ªØng m·∫£nh v·ª° nguy√™n t·ªë qu√Ω gi√°.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ v·ªõi ƒë·ªô b·ªÅn c·ª±c cao"
        },
        {
            "id": "sword5",
            "name": "Thi√™n Kh√¥ng Ki·∫øm",
            "type": "weapon",
            "image": "resources/sword5.webp",
            "description": "Thi√™n Kh√¥ng Ki·∫øm to√°t ra l·ªùi ch√∫c ph√∫c c·ªßa th·∫ßn gi√≥. Khi s·ª≠ d·ª•ng ƒë·ªÉ ti√™u di·ªát qu√°i v·∫≠t, n√≥ s·∫Ω t·∫°o ra nh·ªØng m·∫£nh v·ª° nguy√™n t·ªë qu√Ω gi√°.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ v·ªõi ƒë·ªô b·ªÅn t·ªëi ƒëa"
        },
        {
            "id": "sword6",
            "name": "Thi√™n Kh√¥ng Ki·∫øm",
            "type": "weapon",
            "image": "resources/sword6.webp",
            "description": "Thi√™n Kh√¥ng Ki·∫øm to√°t ra l·ªùi ch√∫c ph√∫c c·ªßa th·∫ßn gi√≥. Khi s·ª≠ d·ª•ng ƒë·ªÉ ti√™u di·ªát qu√°i v·∫≠t, n√≥ s·∫Ω t·∫°o ra nh·ªØng m·∫£nh v·ª° nguy√™n t·ªë qu√Ω gi√°.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ v·ªõi ƒë·ªô b·ªÅn tuy·ªát ƒë·ªëi"
        },
        {
            "id": "catalyst0",
            "name": "Catalyst",
            "type": "weapon",
            "image": "resources/catalyst0.webp",
            "description": "Catalyst l√† v≈© kh√≠ ph√©p thu·∫≠t m·∫°nh m·∫Ω, c√≥ th·ªÉ g√¢y s√°t th∆∞∆°ng nguy√™n t·ªë cho k·∫ª ƒë·ªãch.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ ph√©p thu·∫≠t v·ªõi ƒë·ªô b·ªÅn th·∫•p"
        },
        {
            "id": "catalyst1",
            "name": "Catalyst",
            "type": "weapon",
            "image": "resources/catalyst1.webp",
            "description": "Catalyst l√† v≈© kh√≠ ph√©p thu·∫≠t m·∫°nh m·∫Ω, c√≥ th·ªÉ g√¢y s√°t th∆∞∆°ng nguy√™n t·ªë cho k·∫ª ƒë·ªãch.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ ph√©p thu·∫≠t v·ªõi ƒë·ªô b·ªÅn trung b√¨nh"
        },
        {
            "id": "catalyst2",
            "name": "Catalyst",
            "type": "weapon",
            "image": "resources/catalyst2.webp",
            "description": "Catalyst l√† v≈© kh√≠ ph√©p thu·∫≠t m·∫°nh m·∫Ω, c√≥ th·ªÉ g√¢y s√°t th∆∞∆°ng nguy√™n t·ªë cho k·∫ª ƒë·ªãch.",
            "durability": "8-16",
            "effect": "Cung c·∫•p v≈© kh√≠ ph√©p thu·∫≠t v·ªõi ƒë·ªô b·ªÅn cao"
        },
        {
            "id": "coin0",
            "name": "M·∫£nh V·ª° Nguy√™n T·ªë BƒÉng",
            "type": "coin",
            "image": "resources/coin0.webp",
            "description": "M·∫£nh v·ª° nguy√™n t·ªë bƒÉng ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh c·ªßa v√πng ƒë·∫•t l·∫°nh gi√°. Khi thu th·∫≠p ƒë·ªß 3 m·∫£nh, ch√∫ng s·∫Ω h·ª£p nh·∫•t th√†nh m·ªôt vi√™n ng·ªçc qu√Ω gi√° h∆°n.",
            "score": "1-9",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë c∆° b·∫£n"
        },
        {
            "id": "coin1",
            "name": "M·∫£nh V·ª° Nguy√™n T·ªë L·ª≠a",
            "type": "coin",
            "image": "resources/coin1.webp",
            "description": "M·∫£nh v·ª° nguy√™n t·ªë l·ª≠a ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh c·ªßa v√πng ƒë·∫•t n√≥ng b·ªèng. Khi thu th·∫≠p ƒë·ªß 3 m·∫£nh, ch√∫ng s·∫Ω h·ª£p nh·∫•t th√†nh m·ªôt vi√™n ng·ªçc qu√Ω gi√° h∆°n.",
            "score": "1-9",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë c∆° b·∫£n"
        },
        {
            "id": "coin2",
            "name": "M·∫£nh V·ª° Nguy√™n T·ªë N∆∞·ªõc",
            "type": "coin",
            "image": "resources/coin2.webp",
            "description": "M·∫£nh v·ª° nguy√™n t·ªë n∆∞·ªõc ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh c·ªßa v√πng ƒë·∫•t ·∫©m ∆∞·ªõt. Khi thu th·∫≠p ƒë·ªß 3 m·∫£nh, ch√∫ng s·∫Ω h·ª£p nh·∫•t th√†nh m·ªôt vi√™n ng·ªçc qu√Ω gi√° h∆°n.",
            "score": "1-9",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë c∆° b·∫£n"
        },
        {
            "id": "coin3",
            "name": "M·∫£nh V·ª° Nguy√™n T·ªë Gi√≥",
            "type": "coin",
            "image": "resources/coin3.webp",
            "description": "M·∫£nh v·ª° nguy√™n t·ªë gi√≥ ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh c·ªßa v√πng ƒë·∫•t tho√°ng ƒë√£ng. Khi thu th·∫≠p ƒë·ªß 3 m·∫£nh, ch√∫ng s·∫Ω h·ª£p nh·∫•t th√†nh m·ªôt vi√™n ng·ªçc qu√Ω gi√° h∆°n.",
            "score": "1-9",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë c∆° b·∫£n"
        },
        {
            "id": "coin4",
            "name": "M·∫£nh V·ª° Nguy√™n T·ªë ƒê·∫•t",
            "type": "coin",
            "image": "resources/coin4.webp",
            "description": "M·∫£nh v·ª° nguy√™n t·ªë ƒë·∫•t ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh c·ªßa v√πng ƒë·∫•t v·ªØng ch·∫Øc. Khi thu th·∫≠p ƒë·ªß 3 m·∫£nh, ch√∫ng s·∫Ω h·ª£p nh·∫•t th√†nh m·ªôt vi√™n ng·ªçc qu√Ω gi√° h∆°n.",
            "score": "1-9",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë c∆° b·∫£n"
        },
        {
            "id": "coin5",
            "name": "M·∫£nh V·ª° Nguy√™n T·ªë S·∫•m",
            "type": "coin",
            "image": "resources/coin5.webp",
            "description": "M·∫£nh v·ª° nguy√™n t·ªë s·∫•m ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh c·ªßa v√πng ƒë·∫•t s·∫•m s√©t. Khi thu th·∫≠p ƒë·ªß 3 m·∫£nh, ch√∫ng s·∫Ω h·ª£p nh·∫•t th√†nh m·ªôt vi√™n ng·ªçc qu√Ω gi√° h∆°n.",
            "score": "1-9",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë c∆° b·∫£n"
        },
        {
            "id": "coin6",
            "name": "M·∫£nh V·ª° Nguy√™n T·ªë C·ªè",
            "type": "coin",
            "image": "resources/coin6.webp",
            "description": "M·∫£nh v·ª° nguy√™n t·ªë c·ªè ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh c·ªßa v√πng ƒë·∫•t xanh t∆∞∆°i. Khi thu th·∫≠p ƒë·ªß 3 m·∫£nh, ch√∫ng s·∫Ω h·ª£p nh·∫•t th√†nh m·ªôt vi√™n ng·ªçc qu√Ω gi√° h∆°n.",
            "score": "1-9",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë c∆° b·∫£n"
        },
        {
            "id": "coinUp0",
            "name": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: BƒÉng V·ª•n V·ª°",
            "type": "coinUp",
            "image": "resources/coinUp0.webp",
            "description": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: BƒÉng V·ª•n V·ª° l√† m·∫£nh v·ª° nguy√™n t·ªë bƒÉng ƒë√£ ƒë∆∞·ª£c n√¢ng c·∫•p. Ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh tinh khi·∫øt h∆°n v√† gi√° tr·ªã cao h∆°n.",
            "score": "2-18",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë g·∫•p ƒë√¥i so v·ªõi coin th∆∞·ªùng"
        },
        {
            "id": "coinUp1",
            "name": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: L·ª≠a V·ª•n V·ª°",
            "type": "coinUp",
            "image": "resources/coinUp1.webp",
            "description": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: L·ª≠a V·ª•n V·ª° l√† m·∫£nh v·ª° nguy√™n t·ªë l·ª≠a ƒë√£ ƒë∆∞·ª£c n√¢ng c·∫•p. Ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh tinh khi·∫øt h∆°n v√† gi√° tr·ªã cao h∆°n.",
            "score": "2-18",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë g·∫•p ƒë√¥i so v·ªõi coin th∆∞·ªùng"
        },
        {
            "id": "coinUp2",
            "name": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: N∆∞·ªõc V·ª•n V·ª°",
            "type": "coinUp",
            "image": "resources/coinUp2.webp",
            "description": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: N∆∞·ªõc V·ª•n V·ª° l√† m·∫£nh v·ª° nguy√™n t·ªë n∆∞·ªõc ƒë√£ ƒë∆∞·ª£c n√¢ng c·∫•p. Ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh tinh khi·∫øt h∆°n v√† gi√° tr·ªã cao h∆°n.",
            "score": "2-18",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë g·∫•p ƒë√¥i so v·ªõi coin th∆∞·ªùng"
        },
        {
            "id": "coinUp3",
            "name": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: Gi√≥ V·ª•n V·ª°",
            "type": "coinUp",
            "image": "resources/coinUp3.webp",
            "description": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: Gi√≥ V·ª•n V·ª° l√† m·∫£nh v·ª° nguy√™n t·ªë gi√≥ ƒë√£ ƒë∆∞·ª£c n√¢ng c·∫•p. Ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh tinh khi·∫øt h∆°n v√† gi√° tr·ªã cao h∆°n.",
            "score": "2-18",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë g·∫•p ƒë√¥i so v·ªõi coin th∆∞·ªùng"
        },
        {
            "id": "coinUp4",
            "name": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: ƒê·∫•t V·ª•n V·ª°",
            "type": "coinUp",
            "image": "resources/coinUp4.webp",
            "description": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: ƒê·∫•t V·ª•n V·ª° l√† m·∫£nh v·ª° nguy√™n t·ªë ƒë·∫•t ƒë√£ ƒë∆∞·ª£c n√¢ng c·∫•p. Ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh tinh khi·∫øt h∆°n v√† gi√° tr·ªã cao h∆°n.",
            "score": "2-18",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë g·∫•p ƒë√¥i so v·ªõi coin th∆∞·ªùng"
        },
        {
            "id": "coinUp5",
            "name": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: S·∫•m V·ª•n V·ª°",
            "type": "coinUp",
            "image": "resources/coinUp5.webp",
            "description": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: S·∫•m V·ª•n V·ª° l√† m·∫£nh v·ª° nguy√™n t·ªë s·∫•m ƒë√£ ƒë∆∞·ª£c n√¢ng c·∫•p. Ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh tinh khi·∫øt h∆°n v√† gi√° tr·ªã cao h∆°n.",
            "score": "2-18",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë g·∫•p ƒë√¥i so v·ªõi coin th∆∞·ªùng"
        },
        {
            "id": "coinUp6",
            "name": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: C·ªè V·ª•n V·ª°",
            "type": "coinUp",
            "image": "resources/coinUp6.webp",
            "description": "C·ªông H∆∞·ªüng Nguy√™n T·ªë: C·ªè V·ª•n V·ª° l√† m·∫£nh v·ª° nguy√™n t·ªë c·ªè ƒë√£ ƒë∆∞·ª£c n√¢ng c·∫•p. Ch·ª©a ƒë·ª±ng s·ª©c m·∫°nh tinh khi·∫øt h∆°n v√† gi√° tr·ªã cao h∆°n.",
            "score": "2-18",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë g·∫•p ƒë√¥i so v·ªõi coin th∆∞·ªùng"
        },
        {
            "id": "food0",
            "name": "G√† N·∫•u Hoa Ng·ªçt",
            "type": "food",
            "image": "resources/food0.webp",
            "description": "G√† N·∫•u Hoa Ng·ªçt l√† m√≥n ƒÉn truy·ªÅn th·ªëng ƒë∆∞·ª£c ch·∫ø bi·∫øn t·ª´ th·ªãt g√† v√† c√°c lo·∫°i gia v·ªã th∆°m ngon. M√≥n ƒÉn n√†y c√≥ kh·∫£ nƒÉng h·ªìi ph·ª•c s·ª©c kh·ªèe ngay l·∫≠p t·ª©c.",
            "heal": "1-9",
            "effect": "H·ªìi ph·ª•c HP ngay l·∫≠p t·ª©c"
        },
        {
            "id": "food1",
            "name": "G√† N·∫•u Hoa Ng·ªçt",
            "type": "food",
            "image": "resources/food1.webp",
            "description": "G√† N·∫•u Hoa Ng·ªçt l√† m√≥n ƒÉn truy·ªÅn th·ªëng ƒë∆∞·ª£c ch·∫ø bi·∫øn t·ª´ th·ªãt g√† v√† c√°c lo·∫°i gia v·ªã th∆°m ngon. M√≥n ƒÉn n√†y c√≥ kh·∫£ nƒÉng h·ªìi ph·ª•c s·ª©c kh·ªèe ngay l·∫≠p t·ª©c.",
            "heal": "1-9",
            "effect": "H·ªìi ph·ª•c HP ngay l·∫≠p t·ª©c"
        },
        {
            "id": "food2",
            "name": "G√† N·∫•u Hoa Ng·ªçt",
            "type": "food",
            "image": "resources/food2.webp",
            "description": "G√† N·∫•u Hoa Ng·ªçt l√† m√≥n ƒÉn truy·ªÅn th·ªëng ƒë∆∞·ª£c ch·∫ø bi·∫øn t·ª´ th·ªãt g√† v√† c√°c lo·∫°i gia v·ªã th∆°m ngon. M√≥n ƒÉn n√†y c√≥ kh·∫£ nƒÉng h·ªìi ph·ª•c s·ª©c kh·ªèe ngay l·∫≠p t·ª©c.",
            "heal": "1-9",
            "effect": "H·ªìi ph·ª•c HP ngay l·∫≠p t·ª©c"
        },
        {
            "id": "food3",
            "name": "G√† N·∫•u Hoa Ng·ªçt",
            "type": "food",
            "image": "resources/food3.webp",
            "description": "G√† N·∫•u Hoa Ng·ªçt l√† m√≥n ƒÉn truy·ªÅn th·ªëng ƒë∆∞·ª£c ch·∫ø bi·∫øn t·ª´ th·ªãt g√† v√† c√°c lo·∫°i gia v·ªã th∆°m ngon. M√≥n ƒÉn n√†y c√≥ kh·∫£ nƒÉng h·ªìi ph·ª•c s·ª©c kh·ªèe ngay l·∫≠p t·ª©c.",
            "heal": "1-9",
            "effect": "H·ªìi ph·ª•c HP ngay l·∫≠p t·ª©c"
        },
        {
            "id": "poison",
            "name": "Thu·ªëc ƒê·ªôc",
            "type": "food",
            "image": "resources/poison.webp",
            "description": "Thu·ªëc ƒë·ªôc l√† m·ªôt lo·∫°i th·ª±c ph·∫©m nguy hi·ªÉm c√≥ th·ªÉ g√¢y h·∫°i cho ng∆∞·ªùi s·ª≠ d·ª•ng.",
            "heal": "0",
            "effect": "G√¢y h·∫°i cho ng∆∞·ªùi s·ª≠ d·ª•ng"
        },
        {
            "id": "fatui0",
            "name": "Fatui - Thu·∫≠t Sƒ© Cicin L√¥i",
            "type": "enemy",
            "image": "resources/fatui0.webp",
            "description": "Thu·∫≠t Sƒ© Cicin L√¥i l√† th√†nh vi√™n c·ªßa t·ªï ch·ª©c Fatui. S·ª≠ d·ª•ng ma thu·∫≠t s·∫•m s√©t ƒë·ªÉ t·∫•n c√¥ng k·∫ª ƒë·ªãch v√† b·∫£o v·ªá l·ª£i √≠ch c·ªßa t·ªï ch·ª©c.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "fatui1",
            "name": "Fatui - Thu·∫≠t Sƒ© Cicin L√¥i",
            "type": "enemy",
            "image": "resources/fatui1.webp",
            "description": "Thu·∫≠t Sƒ© Cicin L√¥i l√† th√†nh vi√™n c·ªßa t·ªï ch·ª©c Fatui. S·ª≠ d·ª•ng ma thu·∫≠t s·∫•m s√©t ƒë·ªÉ t·∫•n c√¥ng k·∫ª ƒë·ªãch v√† b·∫£o v·ªá l·ª£i √≠ch c·ªßa t·ªï ch·ª©c.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "fatui2",
            "name": "Fatui - Thu·∫≠t Sƒ© Cicin L√¥i",
            "type": "enemy",
            "image": "resources/fatui2.webp",
            "description": "Thu·∫≠t Sƒ© Cicin L√¥i l√† th√†nh vi√™n c·ªßa t·ªï ch·ª©c Fatui. S·ª≠ d·ª•ng ma thu·∫≠t s·∫•m s√©t ƒë·ªÉ t·∫•n c√¥ng k·∫ª ƒë·ªãch v√† b·∫£o v·ªá l·ª£i √≠ch c·ªßa t·ªï ch·ª©c.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "fatui3",
            "name": "Fatui - Thu·∫≠t Sƒ© Cicin L√¥i",
            "type": "enemy",
            "image": "resources/fatui3.webp",
            "description": "Thu·∫≠t Sƒ© Cicin L√¥i l√† th√†nh vi√™n c·ªßa t·ªï ch·ª©c Fatui. S·ª≠ d·ª•ng ma thu·∫≠t s·∫•m s√©t ƒë·ªÉ t·∫•n c√¥ng k·∫ª ƒë·ªãch v√† b·∫£o v·ªá l·ª£i √≠ch c·ªßa t·ªï ch·ª©c.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "eremite0",
            "name": "Eremite",
            "type": "enemy",
            "image": "resources/eremite0.webp",
            "description": "Eremite l√† nh·ªØng k·∫ª lang thang sa m·∫°c, s·ª≠ d·ª•ng v≈© kh√≠ v√† ma thu·∫≠t ƒë·ªÉ t·∫•n c√¥ng k·∫ª ƒë·ªãch.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "eremite1",
            "name": "Eremite",
            "type": "enemy",
            "image": "resources/eremite1.webp",
            "description": "Eremite l√† nh·ªØng k·∫ª lang thang sa m·∫°c, s·ª≠ d·ª•ng v≈© kh√≠ v√† ma thu·∫≠t ƒë·ªÉ t·∫•n c√¥ng k·∫ª ƒë·ªãch.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "warrior",
            "name": "Chi·∫øn Binh",
            "type": "enemy",
            "image": "resources/warrior.webp",
            "description": "Chi·∫øn Binh l√† nh·ªØng k·∫ª ƒë·ªãch m·∫°nh m·∫Ω, s·ª≠ d·ª•ng v≈© kh√≠ v√† k·ªπ nƒÉng chi·∫øn ƒë·∫•u ƒë·ªÉ t·∫•n c√¥ng.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "operative",
            "name": "ƒê·∫∑c V·ª•",
            "type": "enemy",
            "image": "resources/operative.webp",
            "description": "ƒê·∫∑c V·ª• l√† nh·ªØng k·∫ª ƒë·ªãch tinh nhu·ªá, s·ª≠ d·ª•ng c√°c k·ªπ thu·∫≠t ƒë·∫∑c bi·ªát ƒë·ªÉ t·∫•n c√¥ng.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "abyssLector0",
            "name": "Abyss Lector",
            "type": "enemy",
            "image": "resources/abyssLector0.webp",
            "description": "Abyss Lector l√† nh·ªØng k·∫ª ƒë·ªãch m·∫°nh m·∫Ω t·ª´ v·ª±c s√¢u, s·ª≠ d·ª•ng ma thu·∫≠t b√≥ng t·ªëi ƒë·ªÉ t·∫•n c√¥ng.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "abyssLector1",
            "name": "Abyss Lector",
            "type": "enemy",
            "image": "resources/abyssLector1.webp",
            "description": "Abyss Lector l√† nh·ªØng k·∫ª ƒë·ªãch m·∫°nh m·∫Ω t·ª´ v·ª±c s√¢u, s·ª≠ d·ª•ng ma thu·∫≠t b√≥ng t·ªëi ƒë·ªÉ t·∫•n c√¥ng.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "abyssLector2",
            "name": "Abyss Lector",
            "type": "enemy",
            "image": "resources/abyssLector2.webp",
            "description": "Abyss Lector l√† nh·ªØng k·∫ª ƒë·ªãch m·∫°nh m·∫Ω t·ª´ v·ª±c s√¢u, s·ª≠ d·ª•ng ma thu·∫≠t b√≥ng t·ªëi ƒë·ªÉ t·∫•n c√¥ng.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "dragon",
            "name": "R·ªìng",
            "type": "enemy",
            "image": "resources/dragon.webp",
            "description": "R·ªìng l√† nh·ªØng sinh v·∫≠t huy·ªÅn tho·∫°i m·∫°nh m·∫Ω, s·ª≠ d·ª•ng s·ª©c m·∫°nh v√† ma thu·∫≠t ƒë·ªÉ t·∫•n c√¥ng.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "apep",
            "name": "Apep",
            "type": "enemy",
            "image": "resources/apep.webp",
            "description": "Apep l√† m·ªôt con r·∫Øn kh·ªïng l·ªì t·ª´ th·∫ßn tho·∫°i Ai C·∫≠p, s·ª≠ d·ª•ng s·ª©c m·∫°nh v√† ma thu·∫≠t ƒë·ªÉ t·∫•n c√¥ng.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "narwhal",
            "name": "Narwhal",
            "type": "enemy",
            "image": "resources/narwhal.webp",
            "description": "Narwhal l√† m·ªôt sinh v·∫≠t bi·ªÉn m·∫°nh m·∫Ω, s·ª≠ d·ª•ng s·ª´ng v√† s·ª©c m·∫°nh ƒë·ªÉ t·∫•n c√¥ng.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "mavuika",
            "name": "Mavuika",
            "type": "enemy",
            "image": "resources/mavuika.webp",
            "description": "Mavuika l√† m·ªôt k·∫ª ƒë·ªãch m·∫°nh m·∫Ω, s·ª≠ d·ª•ng c√°c k·ªπ thu·∫≠t ƒë·∫∑c bi·ªát ƒë·ªÉ t·∫•n c√¥ng.",
            "hp": "1-9",
            "score": "1-9",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ƒÉn"
        },
        {
            "id": "boom",
            "name": "N·ªï ƒê·ªãnh H∆∞·ªõng C√≥ Ki·ªÉm So√°t",
            "type": "boom",
            "image": "resources/boom.webp",
            "description": "N·ªï ƒê·ªãnh H∆∞·ªõng C√≥ Ki·ªÉm So√°t l√† m·ªôt lo·∫°i bom nguy hi·ªÉm c√≥ th·ªÉ g√¢y s√°t th∆∞∆°ng cho character v√† c√°c th·∫ª xung quanh.",
            "damage": "3-7",
            "countdown": "5",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character v√† c√°c th·∫ª xung quanh"
        },
        {
            "id": "trap",
            "name": "C∆° Quan Phun L·ª≠a",
            "type": "trap",
            "image": "resources/trap.webp",
            "description": "C∆° Quan Phun L·ª≠a l√† b·∫´y nguy hi·ªÉm ƒë∆∞·ª£c ch·∫ø t·∫°o t·ª´ thu·ªëc n·ªï. Khi k√≠ch ho·∫°t, n√≥ s·∫Ω phun l·ª≠a g√¢y s√°t th∆∞∆°ng cho k·∫ª ƒë·ªãch.",
            "damage": "1-7",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã ch·ªâ b·ªüi arrow"
        },
        {
            "id": "treasure0",
            "name": "M·ªè V√†ng",
            "type": "treasure",
            "image": "resources/treasure0.webp",
            "description": "M·ªè V√†ng l√† kho b√°u qu√Ω gi√° ch·ª©a ƒë·ª±ng v√†ng v√† ƒë√° qu√Ω. C√≥ th·ªÉ t∆∞∆°ng t√°c ƒë·ªÉ thu th·∫≠p ƒëi·ªÉm, nh∆∞ng s·∫Ω b·ªã h·ªßy ho·∫°i sau nhi·ªÅu l·∫ßn s·ª≠ d·ª•ng.",
            "score": "1-9",
            "durability": "5",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë khi t∆∞∆°ng t√°c, c√≥ ƒë·ªô b·ªÅn gi·ªõi h·∫°n"
        },
        {
            "id": "treasure1",
            "name": "M·ªè V√†ng",
            "type": "treasure",
            "image": "resources/treasure1.webp",
            "description": "M·ªè V√†ng l√† kho b√°u qu√Ω gi√° ch·ª©a ƒë·ª±ng v√†ng v√† ƒë√° qu√Ω. C√≥ th·ªÉ t∆∞∆°ng t√°c ƒë·ªÉ thu th·∫≠p ƒëi·ªÉm, nh∆∞ng s·∫Ω b·ªã h·ªßy ho·∫°i sau nhi·ªÅu l·∫ßn s·ª≠ d·ª•ng.",
            "score": "1-9",
            "durability": "5",
            "effect": "Cung c·∫•p ƒëi·ªÉm s·ªë khi t∆∞∆°ng t√°c, c√≥ ƒë·ªô b·ªÅn gi·ªõi h·∫°n"
        },
        {
            "id": "quicksand",
            "name": "C√°t L√∫n",
            "type": "trap",
            "image": "resources/quicksand.webp",
            "description": "C√°t L√∫n l√† m·ªôt lo·∫°i b·∫´y nguy hi·ªÉm c√≥ th·ªÉ nu·ªët ch·ª≠ng k·∫ª ƒë·ªãch.",
            "damage": "1-5",
            "effect": "G√¢y s√°t th∆∞∆°ng cho character khi b·ªã m·∫Øc k·∫πt"
        },
        {
            "id": "void",
            "name": "Tr·ªëng",
            "type": "coin",
            "image": "resources/void.webp",
            "description": "Th·∫ª Tr·ªëng l√† m·ªôt th·∫ª ƒë·∫∑c bi·ªát kh√¥ng c√≥ b·∫•t k·ª≥ t√°c d·ª•ng n√†o. ƒê∆∞·ª£c t·∫°o ra ƒë·ªÉ l·∫•p ƒë·∫ßy kh√¥ng gian tr·ªëng tr√™n b√†n ch∆°i.",
            "score": "0",
            "effect": "Kh√¥ng c√≥ t√°c d·ª•ng g√¨"
        },
        {
            "id": "bribery",
            "name": "H·ªëi L·ªô",
            "type": "special",
            "image": "resources/bribery.webp",
            "description": "H·ªëi L·ªô l√† m·ªôt th·∫ª ƒë·∫∑c bi·ªát c√≥ th·ªÉ thay ƒë·ªïi h√†nh vi c·ªßa k·∫ª ƒë·ªãch.",
            "effect": "Thay ƒë·ªïi h√†nh vi c·ªßa k·∫ª ƒë·ªãch"
        }
    ];
    }

    // Render l∆∞·ªõi th·∫ª
    function renderCardGrid() {
      const grid = document.getElementById('cardGrid');
      grid.innerHTML = '';

      if (currentCards.length === 0) {
        grid.innerHTML = '<div class="no-cards">Kh√¥ng c√≥ th·∫ª n√†o ƒë·ªÉ hi·ªÉn th·ªã</div>';
        return;
      }

      currentCards.forEach(card => {
        const cardElement = createCardElement(card);
        grid.appendChild(cardElement);
      });
    }

    // T·∫°o element th·∫ª
    function createCardElement(card) {
      const cardDiv = document.createElement('div');
      cardDiv.className = 'card-item';
      cardDiv.dataset.cardId = card.id;
      
      cardDiv.innerHTML = `
        <div class="card-bg"></div>
        <img class="card-image" src="${card.image}" alt="${card.name}" onerror="this.src='resources/void.webp'">
        <div class="card-overlay">
          <div>${card.name}</div>
          <div style="font-size: 10px; color: #87CEEB;">${card.type}</div>
        </div>
      `;

      return cardDiv;
    }

    // Thi·∫øt l·∫≠p event listeners
    function setupEventListeners() {
      // Click v√†o th·∫ª
      document.addEventListener('click', function(e) {
        const cardItem = e.target.closest('.card-item');
        if (cardItem) {
          const cardId = cardItem.dataset.cardId;
          selectCard(cardId);
        }
      });

      // Click ngo√†i ƒë·ªÉ b·ªè ch·ªçn
      document.addEventListener('click', function(e) {
        if (!e.target.closest('.card-item') && !e.target.closest('.card-info')) {
          deselectCard();
        }
      });
    }

    // Ch·ªçn th·∫ª
    function selectCard(cardId) {
      // B·ªè ch·ªçn th·∫ª c≈©
      if (selectedCardId) {
        const oldCard = document.querySelector(`[data-card-id="${selectedCardId}"]`);
        if (oldCard) oldCard.classList.remove('selected');
      }

      // Ch·ªçn th·∫ª m·ªõi
      selectedCardId = cardId;
      const newCard = document.querySelector(`[data-card-id="${cardId}"]`);
      if (newCard) newCard.classList.add('selected');

      // Hi·ªÉn th·ªã th√¥ng tin th·∫ª
      displayCardInfo(cardId);
    }

    // B·ªè ch·ªçn th·∫ª
    function deselectCard() {
      if (selectedCardId) {
        const oldCard = document.querySelector(`[data-card-id="${selectedCardId}"]`);
        if (oldCard) oldCard.classList.remove('selected');
        selectedCardId = null;
      }

      // ·∫®n th√¥ng tin th·∫ª
      hideCardInfo();
    }

    // Hi·ªÉn th·ªã th√¥ng tin th·∫ª
    function displayCardInfo(cardId) {
      const card = currentCards.find(c => c.id === cardId);
      if (!card) return;

      // ·∫®n placeholder
      document.getElementById('cardInfoPlaceholder').style.display = 'none';
      
      // Hi·ªÉn th·ªã n·ªôi dung
      const content = document.getElementById('cardInfoContent');
      content.classList.add('active');

      // C·∫≠p nh·∫≠t th√¥ng tin
      document.getElementById('cardName').textContent = card.name;
      document.getElementById('cardType').textContent = card.type;
      document.getElementById('cardImageLarge').src = card.image;
      document.getElementById('cardDescription').innerHTML = card.description;

      // C·∫≠p nh·∫≠t th·ªëng k√™
      updateCardStats(card);
    }

    // ·∫®n th√¥ng tin th·∫ª
    function hideCardInfo() {
      document.getElementById('cardInfoPlaceholder').style.display = 'block';
      document.getElementById('cardInfoContent').classList.remove('active');
    }

    // C·∫≠p nh·∫≠t th·ªëng k√™ th·∫ª
    function updateCardStats(card) {
      const statsContainer = document.getElementById('cardStats');
      statsContainer.innerHTML = '';

      // T·∫°o stats t·ª´ c√°c thu·ªôc t√≠nh c·ªßa card
      const stats = {};
      
      if (card.durability) stats.durability = card.durability;
      if (card.score) stats.score = card.score;
      if (card.heal) stats.heal = card.heal;
      if (card.hp) stats.hp = card.hp;
      if (card.damage) stats.damage = card.damage;
      if (card.countdown) stats.countdown = card.countdown;
      if (card.effect) stats.effect = card.effect;

      Object.entries(stats).forEach(([key, value]) => {
        const statItem = document.createElement('div');
        statItem.className = 'stat-item';
        statItem.innerHTML = `
          <span class="stat-label">${formatStatLabel(key)}:</span>
          <span class="stat-value">${value}</span>
        `;
        statsContainer.appendChild(statItem);
      });
    }

    // Format label th·ªëng k√™
    function formatStatLabel(key) {
      const labels = {
        durability: 'ƒê·ªô B·ªÅn',
        damage: 'S√°t Th∆∞∆°ng',
        effect: 'Hi·ªáu ·ª®ng',
        hp: 'M√°u',
        score: 'ƒêi·ªÉm',
        heal: 'H·ªìi Ph·ª•c',
        countdown: 'ƒê·∫øm Ng∆∞·ª£c',
        energy: 'NƒÉng L∆∞·ª£ng',
        value: 'Gi√° Tr·ªã',
        rarity: 'ƒê·ªô Hi·∫øm',
        reward: 'Ph·∫ßn Th∆∞·ªüng'
      };
      return labels[key] || key;
    }

    // X·ª≠ l√Ω score v√† settings
    function initializeScoreAndSettings() {
      // Load score t·ª´ localStorage ho·∫∑c set m·∫∑c ƒë·ªãnh
      const savedScore = localStorage.getItem('gameScore') || 0;
      document.getElementById('score').textContent = savedScore;

      // X·ª≠ l√Ω click settings button
      const settingsBtn = document.querySelector('.settings-btn');
      if (settingsBtn) {
        settingsBtn.addEventListener('click', function() {
          // TODO: M·ªü menu settings
          alert('Menu Settings s·∫Ω ƒë∆∞·ª£c m·ªü ·ªü ƒë√¢y!');
        });
      }
    }

    // H√†m c·∫≠p nh·∫≠t score
    function updateScore(newScore) {
      document.getElementById('score').textContent = newScore;
      localStorage.setItem('gameScore', newScore);
    }

    // H√†m tƒÉng score
    function addScore(points) {
      const currentScore = parseInt(document.getElementById('score').textContent) || 0;
      const newScore = currentScore + points;
      updateScore(newScore);
    }

    // H√†m th√™m th·∫ª m·ªõi
    function addNewCard(cardData) {
      currentCards.push(cardData);
      renderCardGrid();
    }

    // H√†m c·∫≠p nh·∫≠t th·∫ª
    function updateCard(cardId, newData) {
      const index = currentCards.findIndex(c => c.id === cardId);
      if (index !== -1) {
        currentCards[index] = { ...currentCards[index], ...newData };
        renderCardGrid();
        
        // C·∫≠p nh·∫≠t th√¥ng tin n·∫øu ƒëang hi·ªÉn th·ªã
        if (selectedCardId === cardId) {
          displayCardInfo(cardId);
        }
      }
    }

    // H√†m l·ªçc th·∫ª theo type
    function filterCardsByType(type) {
      if (type === 'all') {
        currentCards = [...cardData];
      } else {
        currentCards = cardData.filter(card => card.type === type);
      }
      renderCardGrid();
    }

    // H√†m t√¨m ki·∫øm th·∫ª
    function searchCards(query) {
      if (!query) {
        currentCards = [...cardData];
      } else {
        const lowerQuery = query.toLowerCase();
        currentCards = cardData.filter(card => 
          card.name.toLowerCase().includes(lowerQuery) ||
          card.description.toLowerCase().includes(lowerQuery) ||
          card.type.toLowerCase().includes(lowerQuery)
        );
      }
      renderCardGrid();
    }
  </script>
</body>
</html>
